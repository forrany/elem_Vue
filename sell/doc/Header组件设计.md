# Header组件设计
<!-- TOC -->

- [Header组件设计](#header)
    - [header布局相关](#header)
        - [`<span>`标签问题](#span)
            - [1.间距问题](#1)
            - [2. 溢出文字的省略号](#2)
            - [3. @2x图片与@3x图片](#3-2x3x)
    - [交互内容设计](#)
        - [弹窗遮罩层](#)

<!-- /TOC -->
## header布局相关
移动端布局与PC端布局没有太大的不同，主要到设计稿是针对PC的，像素大小除以2之后使用即可。

除此外，使用盒模型，合理利用margin和padding来对内容进行布局是比较有效和整洁的。在调试时，一目了然。 另一反面个，在调试过程，将localhost改为本机ip，可以通过手机访问，对页面的显示效果进行对应的优化。

具体的设计不赘述，可查看详细代码，这里只说明几个可能遇到的坑

###  `<span>`标签问题
#### 1.间距问题
这是老生常谈的问题，在组件设计中，经常有几个span标签的内容。比如以下的结构
```html
<div>
    <span>材料</span>
    <span>内容</span>
</div>
```
以上结构，两个标签不会紧紧的挨在一起，会有一个间隙。因为本身span标签是文本标签，而span和span之间的空格没有消除，导致之间有间隙。同样的问题包括`<img>`标签，也会遇到同样的问题。
解决方案：
  1. 父级元素设置`font-size：0`,对应的`span`标签根据需要设置字体，这样间隙就会消失
  2. 在html中，直接删除空格

这里需要注意第一种方法的一个bug: **当设置了父级的`font-size`为0之后，想让其溢出的文字变成省略号就会失效(这在之后会说明)**

#### 2. 溢出文字的省略号
这个总结多次了，3件套如下：
```CSS

overflow: hidden;
white-space: nowrap;
text-overflow: ellipsis;
```
但是注意，父级设置了`font-size`为0之后，会失效

#### 3. @2x图片与@3x图片
同样的，在图片素材中，我们会用到一些图标，这些图标已经切成了2x和3x的图片，用于不同dpr的设备上。

这个的方法选择类似于之前的`border-1px`处理方式，通过查询dpr，根据dpr选择内容。

step1 素材准备

将所有图标文件移入header文件夹

step2 设置css样式

按照之前描述的stylus结构，我们同样希望把这个样式做成一个样式函数，因为图片在很多地方都会用的到。我们需要改变的仅仅是`url`不同，实现不同的图标显示。

在mixin.styl中，加入以下代码
```stylus
bg-image($url)
    background: url($url+"@2x.png")
    @media(-webkit-min-device-pixel-ratio:3),(min-device-pixel-ratio:3)
        background: url($url+"@3x.png)
```

## 交互内容设计
### 弹窗遮罩层
